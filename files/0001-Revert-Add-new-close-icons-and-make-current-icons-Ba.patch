From c3e50bbf6f956ccb7be9f2726279df1d746c8fd6 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Silva?= <emulatorman@hyperbola.info>
Date: Sun, 24 Jun 2018 23:40:56 -0300
Subject: [PATCH] Revert "Add new close icons and make current icons
 Basilisk-specific"

This reverts commit 87eaf4410455694b3337fd145d9b157c289babd5.
---
 application/palemoon/themes/windows/browser.css       |  8 ++++----
 toolkit/themes/linux/global/global.css                |  6 ------
 toolkit/themes/linux/global/jar.mn                    |  2 +-
 toolkit/themes/windows/global/global.css              | 15 ---------------
 .../themes/windows/global/icons/close-inverted.svg    | 19 -------------------
 toolkit/themes/windows/global/icons/close.svg         | 19 -------------------
 toolkit/themes/windows/global/jar.mn                  |  2 --
 7 files changed, 5 insertions(+), 66 deletions(-)
 delete mode 100644 toolkit/themes/windows/global/icons/close-inverted.svg
 delete mode 100644 toolkit/themes/windows/global/icons/close.svg

diff --git a/application/palemoon/themes/windows/browser.css b/application/palemoon/themes/windows/browser.css
index 099382a5a..db60a6fa7 100644
--- a/application/palemoon/themes/windows/browser.css
+++ b/application/palemoon/themes/windows/browser.css
@@ -2015,7 +2015,7 @@ richlistitem[type~="action"][actiontype="switchtab"] > .ac-url-box > .ac-action-
 }
 
 .tab-close-button:-moz-lwtheme-brighttext {
-  list-style-image: url("chrome://global/skin/icons/close-inverted.svg");
+  list-style-image: url("chrome://global/skin/icons/close-inverted.png");
 }
 
 /* Tab scrollbox arrow, tabstrip new tab and all-tabs buttons */
@@ -2163,7 +2163,7 @@ toolbar[brighttext] #alltabs-button[type="menu"] {
 }
 
 toolbar[brighttext] .tabs-closebutton {
-  list-style-image: url("chrome://global/skin/icons/close-inverted.svg");
+  list-style-image: url("chrome://global/skin/icons/close-inverted.png");
 }
 
 .tabs-closebutton > .toolbarbutton-icon {
@@ -2697,7 +2697,7 @@ toolbarbutton.bookmark-item[dragover="true"][open="true"] {
 
 /* Make sure the allTab previews always have regular close buttons */
 #allTabs-tab-close-button:-moz-lwtheme-brighttext {
-  list-style-image: url("chrome://global/skin/icons/close.svg");
+  list-style-image: url("chrome://global/skin/icons/close.png");
 }
 
 .allTabs-favicon[src] {
@@ -2770,7 +2770,7 @@ toolbarbutton.bookmark-item[dragover="true"][open="true"] {
 }
 
 toolbar[brighttext] #addonbar-closebutton {
-  list-style-image: url("chrome://global/skin/icons/close-inverted.svg");
+  list-style-image: url("chrome://global/skin/icons/close-inverted.png");
 }
 
 /* Status panel */
diff --git a/toolkit/themes/linux/global/global.css b/toolkit/themes/linux/global/global.css
index 9553725d6..1f9e7e458 100644
--- a/toolkit/themes/linux/global/global.css
+++ b/toolkit/themes/linux/global/global.css
@@ -316,7 +316,6 @@ popupnotificationcontent {
 
 /* :::::: Close button icons ::::: */
 
-%ifdef MC_BASILISK
 .close-icon {
   -moz-appearance: none;
   height: 16px;
@@ -333,8 +332,3 @@ popupnotificationcontent {
 .close-icon:hover:active {
   background-image: -moz-image-rect(url("chrome://global/skin/icons/close.svg"), 0, 48, 16, 32);
 }
-%else
-.close-icon {
-  list-style-image: url("moz-icon://stock/gtk-close?size=menu");
-}
-%endif
diff --git a/toolkit/themes/linux/global/jar.mn b/toolkit/themes/linux/global/jar.mn
index b161f8cae..6a053dec6 100644
--- a/toolkit/themes/linux/global/jar.mn
+++ b/toolkit/themes/linux/global/jar.mn
@@ -14,7 +14,7 @@ toolkit.jar:
    skin/classic/global/filepicker.css
    skin/classic/global/Filepicker.png                          (filepicker/Filepicker.png)
    skin/classic/global/findBar.css
-*  skin/classic/global/global.css
+   skin/classic/global/global.css
    skin/classic/global/groupbox.css
    skin/classic/global/inContentUI.css
    skin/classic/global/listbox.css
diff --git a/toolkit/themes/windows/global/global.css b/toolkit/themes/windows/global/global.css
index 416321041..aaddef882 100644
--- a/toolkit/themes/windows/global/global.css
+++ b/toolkit/themes/windows/global/global.css
@@ -331,7 +331,6 @@ popupnotificationcontent {
 
 /* :::::: Close button icons ::::: */
 
-%ifdef MC_BASILISK
 .close-icon {
   list-style-image: url("chrome://global/skin/icons/close.png");
   -moz-image-region: rect(0, 20px, 20px, 0);
@@ -399,17 +398,3 @@ popupnotificationcontent {
     }
   }
 }
-%else
-.close-icon {
-  list-style-image: url("chrome://global/skin/icons/close.svg");
-  -moz-image-region: rect(0, 16px, 16px, 0);
-}
-
-.close-icon:hover {
-  -moz-image-region: rect(0, 32px, 16px, 16px);
-}
-
-.close-icon:hover:active {
-  -moz-image-region: rect(0, 48px, 16px, 32px);
-}
-%endif
diff --git a/toolkit/themes/windows/global/icons/close-inverted.svg b/toolkit/themes/windows/global/icons/close-inverted.svg
deleted file mode 100644
index ac2bd887d..000000000
--- a/toolkit/themes/windows/global/icons/close-inverted.svg
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<svg width="64" height="16" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
-  <defs>
-    <linearGradient id="d" x1="5.5" x2="5.5" y1="1" y2="7" gradientTransform="translate(17,1)" gradientUnits="userSpaceOnUse">
-      <stop stop-color="#e35d5d" offset="0"/>
-      <stop stop-color="#e35d5d" stop-opacity="0" offset="1"/>
-    </linearGradient>
-  </defs>
-  <g>
-    <rect x="17" y="1" width="14" height="14" rx="2.5" ry="2.5" fill="#b00021" fill-rule="evenodd"/>
-    <rect id="a" x="18" y="2" width="12" height="12" rx="1.5" ry="1.5" color="#000000" color-rendering="auto" fill="url(#d)" image-rendering="auto" shape-rendering="auto" solid-color="#000000" style="isolation:auto;mix-blend-mode:normal"/>
-    <path id="c" d="m26.8 5.2-5.6 5.6m0-5.6 5.6 5.6" fill="none" stroke="#fff" stroke-linecap="square" stroke-width="1.4"/>
-    <path id="b" d="m10.8 5.2-5.6 5.6m0-5.6 5.6 5.6" fill="none" stroke="#d0d0d0" stroke-linecap="square" stroke-width="1.4"/>
-    <rect x="33" y="1" width="14" height="14" rx="2" ry="2" fill="#800018" fill-rule="evenodd"/>
-    <use transform="translate(48)" width="100%" height="100%" opacity=".5" xlink:href="#b"/>
-    <use transform="translate(16)" width="100%" height="100%" opacity=".6" xlink:href="#a"/>
-    <use transform="translate(16)" width="100%" height="100%" opacity=".6" xlink:href="#c"/>
-  </g>
-</svg>
diff --git a/toolkit/themes/windows/global/icons/close.svg b/toolkit/themes/windows/global/icons/close.svg
deleted file mode 100644
index 4093c880d..000000000
--- a/toolkit/themes/windows/global/icons/close.svg
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<svg width="64" height="16" version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
-  <defs>
-    <linearGradient id="d" x1="5.5" x2="5.5" y1="1" y2="7" gradientTransform="translate(17,1)" gradientUnits="userSpaceOnUse">
-      <stop stop-color="#e35d5d" offset="0"/>
-      <stop stop-color="#e35d5d" stop-opacity="0" offset="1"/>
-    </linearGradient>
-  </defs>
-  <g>
-    <rect x="17" y="1" width="14" height="14" rx="2.5" ry="2.5" fill="#b00021" fill-rule="evenodd"/>
-    <rect id="a" x="18" y="2" width="12" height="12" rx="1.5" ry="1.5" color="#000000" color-rendering="auto" fill="url(#d)" image-rendering="auto" shape-rendering="auto" solid-color="#000000" style="isolation:auto;mix-blend-mode:normal"/>
-    <path id="c" d="m26.8 5.2-5.6 5.6m0-5.6 5.6 5.6" fill="none" stroke="#fff" stroke-linecap="square" stroke-width="1.4"/>
-    <path id="b" d="m10.8 5.2-5.6 5.6m0-5.6 5.6 5.6" fill="none" stroke="#303030" stroke-linecap="square" stroke-width="1.4"/>
-    <rect x="33" y="1" width="14" height="14" rx="2" ry="2" fill="#800018" fill-rule="evenodd"/>
-    <use transform="translate(48)" width="100%" height="100%" opacity=".5" xlink:href="#b"/>
-    <use transform="translate(16)" width="100%" height="100%" opacity=".6" xlink:href="#a"/>
-    <use transform="translate(16)" width="100%" height="100%" opacity=".6" xlink:href="#c"/>
-  </g>
-</svg>
diff --git a/toolkit/themes/windows/global/jar.mn b/toolkit/themes/windows/global/jar.mn
index a2cc9e2ea..75f4cc650 100644
--- a/toolkit/themes/windows/global/jar.mn
+++ b/toolkit/themes/windows/global/jar.mn
@@ -45,8 +45,6 @@ toolkit.jar:
   skin/classic/global/icons/autocomplete-search.svg        (icons/autocomplete-search.svg)
   skin/classic/global/icons/blacklist_favicon.png          (icons/blacklist_favicon.png)
   skin/classic/global/icons/blacklist_large.png            (icons/blacklist_large.png)
-  skin/classic/global/icons/close.svg                      (icons/close.svg)
-  skin/classic/global/icons/close-inverted.svg             (icons/close-inverted.svg)
   skin/classic/global/icons/close-win7.png                 (icons/close-win7.png)
   skin/classic/global/icons/close-win7@2x.png              (icons/close-win7@2x.png)
   skin/classic/global/icons/close-inverted-win7.png        (icons/close-inverted-win7.png)
-- 
2.12.2

